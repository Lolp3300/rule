<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rule34</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="top-bar">
        <h1>Rule34</h1>
        <nav>
            <ul class="nav-links">
                <li><a href="index.html">Accueil</a></li>
                <li><a href="#" id="lastSearchLink" class="hidden"></a></li>
                <li><a href="view.html">Voir image</a></li>
                <li><a href="random.html">random image</a></li>
            </ul>
        </nav>
    </header>
    <main id="imageContainer">
        

    </main>
    <main id="viewer">
        
    </main>
    <script>

        const params = new URLSearchParams(window.location.search);
        const imageUrl = params.get('image');
        const fileType = params.get('type');
        const fileUrl = params.get('file');

    const viewer = document.getElementById('viewer');

    if (fileUrl && fileType) {
      if (fileType === 'video') {
        // Affiche une vidéo
        const video = document.createElement('video');
        video.src = decodeURIComponent(fileUrl);
        video.controls = true;
        video.style.maxWidth = '100%';
        viewer.appendChild(video);
      } else if (fileType === 'image') {
        // Affiche une image
        const img = document.createElement('img');
        img.src = decodeURIComponent(fileUrl);
        img.alt = 'Image';
        img.style.maxWidth = '100%';
        viewer.appendChild(img);
      } else {
        viewer.innerHTML = '<p>Type de fichier inconnu.</p>';
      }
    } else {
      viewer.innerHTML = '<p>Aucun fichier sélectionné.</p>';
    }

    </script>
</body>
</html>